(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{2431:function(){},3846:function(e,t,n){Promise.resolve().then(n.bind(n,7949))},7949:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var l=n(7437),r=n(2265),i=n(3706),s=n(1021),a=n(7502),o=n(7466),d=n(4291),c=n(9376),u=n(5943),x=n(6585),y=n(8584),p=n(9551);function h(e){let{visible:t,onCancel:n,onSuccess:i}=e,[s]=u.Z.useForm(),[a,d]=(0,r.useState)(!1),c=async()=>{try{let e=await s.validateFields();d(!0),await p.Z.post("/analysis/new",{query:e.query}),d(!1),s.resetFields(),i()}catch(e){d(!1)}};return(0,l.jsx)(x.Z,{open:t,title:"New Analysis",onCancel:n,onOk:c,footer:[(0,l.jsx)(o.ZP,{onClick:n,children:"Cancel"},"cancel"),(0,l.jsx)(o.ZP,{type:"primary",loading:a,onClick:c,children:"Submit"},"submit")],children:(0,l.jsx)(u.Z,{form:s,layout:"vertical",children:(0,l.jsx)(u.Z.Item,{name:"query",label:"Dream Content",rules:[{required:!0,message:"Please enter the content"}],children:(0,l.jsx)(y.Z.TextArea,{rows:4})})})})}var f=n(353),m=n(5945);function g(e){let{id:t,visible:n,onClose:i}=e,[s,a]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{t&&(async()=>{try{d(!0);let e=await p.Z.get("/analysis/detail/".concat(t));a(e.data)}catch(e){a(null)}finally{d(!1)}})()},[t]),(0,l.jsx)(x.Z,{open:n,title:"Analysis Detail",onCancel:i,footer:null,width:800,style:{body:{padding:"20px"}},children:o?(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:(0,l.jsx)(f.Z,{size:"large"})}):s?(0,l.jsxs)(m.Z,{bordered:!1,style:{background:"#f9f9f9",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},headStyle:{fontSize:"1.5em",textAlign:"center",color:"#4A90E2"},children:[(0,l.jsx)("p",{style:{fontSize:"1.2em",marginBottom:"20px"},children:(0,l.jsx)("strong",{children:"Dream Content:"})}),(0,l.jsx)("p",{style:{marginLeft:"20px",color:"#555",fontStyle:"italic"},children:s.query}),(0,l.jsx)("p",{style:{fontSize:"1.2em",marginTop:"30px",marginBottom:"20px"},children:(0,l.jsx)("strong",{children:"AI Analysis:"})}),(0,l.jsx)("p",{style:{marginLeft:"20px",color:"#333"},children:s.answer}),(0,l.jsx)("p",{style:{fontSize:"1.2em",marginTop:"30px",marginBottom:"20px"},children:(0,l.jsx)("strong",{children:"Upload Time:"})}),(0,l.jsx)("p",{style:{marginLeft:"20px",color:"#777"},children:s.upload_dt})]}):(0,l.jsxs)("div",{style:{textAlign:"center",marginTop:"50px"},children:[(0,l.jsx)("h1",{style:{fontSize:"2em",color:"#555"},children:"No Data Found"}),(0,l.jsx)("p",{style:{color:"#888"},children:"We couldn't find the analysis you're looking for."})]})})}let{Title:j}=i.default;function b(){let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[m,b]=(0,r.useState)(!0),Z=(0,c.useRouter)(),v=async()=>{try{await p.Z.get("/analysis/list")}catch(e){Z.push("/")}},C=async()=>{b(!0);try{let e=await p.Z.get("/analysis/list");t(e.data),b(!1)}catch(t){var e,n;b(!1),s.ZP.error((null===(n=t.response)||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.error)||"Failed to fetch data")}};(0,r.useEffect)(()=>{v(),C()},[]);let S=async e=>{try{await p.Z.delete("/analysis/delete/".concat(e)),s.ZP.success("Deleted successfully"),C()}catch(e){var t,n;s.ZP.error((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.error)||"Failed to delete")}},k=e=>{f(e),x(!0)};return(0,l.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",backgroundColor:"#f0f2f5",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,l.jsx)(j,{level:2,style:{marginBottom:"20px",textAlign:"center",color:"#4A90E2"},children:"Dream Analysis"}),(0,l.jsx)("div",{style:{textAlign:"right",marginBottom:16},children:(0,l.jsx)(o.ZP,{type:"primary",style:{backgroundColor:"#4A90E2",borderColor:"#4A90E2",borderRadius:"6px"},onClick:()=>i(!0),children:"New Analysis"})}),(0,l.jsx)(d.Z,{columns:[{title:"Dream Content",dataIndex:"query",key:"query",render:(e,t)=>(0,l.jsx)("a",{style:{color:"#1890ff",textDecoration:"underline",cursor:"pointer"},onClick:()=>k(t.id),children:e})},{title:"Upload Time",dataIndex:"upload_dt",key:"upload_dt",render:e=>(0,l.jsx)("span",{style:{color:"#555"},children:e})},{title:"Actions",key:"actions",render:(e,t)=>(0,l.jsx)(a.Z,{title:"Are you sure to delete this analysis?",onConfirm:()=>S(t.id),children:(0,l.jsx)(o.ZP,{type:"link",danger:!0,children:"Delete"})})}],dataSource:e,loading:m,rowKey:"id",bordered:!0,style:{backgroundColor:"#fff",borderRadius:"8px"}}),(0,l.jsx)(h,{visible:n,onCancel:()=>i(!1),onSuccess:()=>{i(!1),C()}}),(0,l.jsx)(g,{id:y,visible:u,onClose:()=>x(!1)})]})}},9551:function(e,t,n){"use strict";var l=n(3464);n(6600);let r=l.Z.create({baseURL:"http://127.0.0.1:5000/api",withCredentials:!0});t.Z=r}},function(e){e.O(0,[73,512,985,278,971,117,744],function(){return e(e.s=3846)}),_N_E=e.O()}]);